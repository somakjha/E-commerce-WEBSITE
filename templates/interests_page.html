<!DOCTYPE html>
<html>
<head>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css"
    integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2" crossorigin="anonymous">
  <link rel="icon" href="static/common/logo_final_2.png" type="image/gif" sizes="16x16">
  <link rel="stylesheet" href="static\interests_page.css">
  <script src="https://www.gstatic.com/firebasejs/8.1.1/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.1.1/firebase-database.js"></script>
<title>
    Interests | SAS Online Store
  </title>
</head>

<body>
<script>
  const firebaseConfig = {
        apiKey: "AIzaSyAXwgisDN7kx6BMZCIwYjj8KNDgmJuz1Mg",
        authDomain: "exampledjango-4af38.firebaseapp.com",
        databaseURL: "https://exampledjango-4af38.firebaseio.com",
        projectId: "exampledjango-4af38",
        storageBucket: "exampledjango-4af38.appspot.com",
        messagingSenderId: "476609483924",
        appId: "1:476609483924:web:14a07bf9950ed344809081",
        measurementId: "G-Q8RNK0P4KT"
      };
      // Initialize Firebase
    firebase.initializeApp(firebaseConfig);
  </script>
<script type="text/javascript" src="static/interests_page1.js"></script>
<script type="text/javascript" src="static/interests_page2.js"></script>
  <div class="navbar navbar-expand-lg navbar-dark bg-dark" id="soham">
    <a class="navbar-brand" href="home" id="image_container">
      <img src="static/common/logo_final_2.png" width="120" height="60" loading="lazy" alt="404">
    </a>
    <div class="dropdown">
      <span class="navbar-brand mb-0 h1">Social</span>
      <div class="dropdown-content">
        <a href="texts">Texts</a>
        <a href="interests">Interests</a>
        <a href="confirmations">Confirmations</a>
      </div>
    </div>
    <div class="dropdown">
      <span class="navbar-brand mb-0 h1">Goods</span>
      <div class="dropdown-content">
        <a href="buy">Buy</a>
        <a href="sell">Sell</a>
        <a href="rent">Rent</a>
        <a href="lease">Lease</a>
      </div>
    </div>
    <div class="dropdown">
      <span class="navbar-brand mb-0 h1">Services</span>
      <div class="dropdown-content">
        <a href="render_service">Request Service</a>
        <a href="require_service">Render Service</a>
      </div>
    </div>
    <div class="dropdown" id="screenSizeChange">
      <span class="navbar-brand mb-0 h1"> Hi , {{user_name}}</span>
      <div class="dropdown-content">
        <a href="account_details">Account Details</a>
        <a href="all_transactions">All Transactions</a>
        <a href="logout">Logout</a>
      </div>
    </div>
  </div>


  <!-- interest cards implemented here !!!-->



<div class="tab">
  <button class="tablinks" onclick="show(event, 'shown')">Interests Shown</button>
  <button class="tablinks" onclick="show(event, 'received')">Interests Received</button>
</div>


<div class="interest_cards tabcontent" id="shown">
  {% with interest_shown_list=interest_shown %}
  {% if interest_shown_list|length > 0 %}
  {% for interest in interest_shown_list reversed %}
    {% if interest.0 == 1 %}
      <span class="row">
        <div class="column">
          <div class="card">
            <span class="container101">
              <img class="interest_ad" src="{{interest.9}}">
              <span>You have shown interest in this product.</span>
              <h3>{{interest.6}}</h3>
              <p>{{interest.7}}</p>
              <h6>Price : ₹ {{interest.10}}</h6>
              <h6><strong>{{interest.3}} {{interest.8}}</strong></h6>
              <span class="response101">Interest Accepted</span>
          </div>
        </div>
      </span>

    {% elif interest.0 == -1 %}
      <span class="row">
        <div class="column">
          <div class="card">
            <span class="container101">
              <img class="interest_ad" src="{{interest.9}}">
              <span>You have shown interest in this product.</span>
              <h3>{{interest.6}}</h3>
              <p>{{interest.7}}</p>
              <h6>Price : ₹ {{interest.10}}</h6>
              <h6><strong>{{interest.3}} {{interest.8}}</strong></h6>
              <span class="response101">Interest Rejected</span>
          </div>
        </div>
      </span>

    {% else %}
      <span class="row">
        <div class="column">
          <div class="card">
            <span class="container101">
              <img class="interest_ad" src="{{interest.9}}">
              <span>You have shown interest in this product.</span>
              <h3>{{interest.6}}</h3>
              <p>{{interest.7}}</p>
              <h6>Price : ₹ {{interest.10}}</h6>
              <h6><strong>{{interest.3}} {{interest.8}}</strong></h6>
              <span class="response101">Waiting for Response</span>
          </div>
        </div>
      </span>
    {% endif %}
  {% endfor %}
  {% endif %}
  {% endwith %}
</div>

<div class="interest_cards tabcontent" id="received">
  {% with interest_received_list=interest_received %}
  {% if interest_received_list|length > 0 %}
  {% for interest in interest_received_list reversed %}
    {% if interest.0 == 1 %}
      <span class="row">
        <div class="column">
          <div class="card">
            <span class="container101">
              <img class="interest_ad" src="{{interest.9}}">
              <span>You have received an interest in this product from {{interest.12}}.</span>
              <h3>{{interest.6}}</h3>
              <p>{{interest.7}}</p>
              <h6>Price : ₹ {{interest.10}}</h6>
              <h6><strong>{{interest.3}} {{interest.8}}</strong></h6>
              <span class="response101">Interest Accepted</span>
          </div>
        </div>
      </span>

    {% elif interest.0 == -1 %}
      <span class="row">
        <div class="column">
          <div class="card">
            <span class="container101">
              <img class="interest_ad" src="{{interest.9}}">
              <span>You have received an interest in this product from {{interest.12}}.</span>
              <h3>{{interest.6}}</h3>
              <p>{{interest.7}}</p>
              <h6>Price : ₹ {{interest.10}}</h6>
              <h6><strong>{{interest.3}} {{interest.8}}</strong></h6>
              <span class="response101">Interest Rejected</span>
          </div>
        </div>
      </span>

    {% else %}
      <span class="row">
        <div class="column">
          <div class="card">
            <span class="container101">
              <img class="interest_ad" src="{{interest.9}}">
              <span>You have received an interest in this product from {{interest.12}}.</span>
              <h3>{{interest.6}}</h3>
              <p>{{interest.7}}</p>
              <h6>Price : ₹ {{interest.10}}</h6>
              <h6><strong>{{interest.3}} {{interest.8}}</strong></h6>
              <span>
                <button type="button" onclick="changeStatus(event,'accepted',{{uid}},'{{interest.5}}',{{interest.2}},'{{interest.1}}','{{interest.3}}','{{interest.4}}')">Accept</button>
                <button type="button" onclick="changeStatus(event,'rejected',{{uid}},'{{interest.5}}',{{interest.2}},'{{interest.1}}','{{interest.3}}','{{interest.4}}')">Decline</button>
              </span>
          </div>
        </div>
      </span>
    {% endif %}
  {% endfor %}
  {% endif %}
  {% endwith %}
</div>

  <!--interests card not ended here-->


<script>
    function changePaddingLeft(screenSize){
      if(screenSize.matches){
        document.getElementById("screenSizeChange").style.marginLeft = "550px";
      }
    }
    var screenSize = window.matchMedia("(min-width: 1300px)")
    changePaddingLeft(screenSize) // Call listener function at run time
    screenSize.addListener(changePaddingLeft) // Attach listener function on state changes
  </script>
</body>
</html>